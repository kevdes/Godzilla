{% extends "bootstrap/base.html" %}
{% block extra_head %}
	<link href="{{ STATIC_URL }}css/tablesorter.css" rel="stylesheet">
	<script type="text/javascript" src="{{ STATIC_URL }}js/jquery.tablesorter.js"></script> 

<script type="text/javascript" id="js">
$(document).ready(function() { 
    $("table").tablesorter({ 
        // pass the headers argument and assing a object 
        headers: { 
            // assign the secound column (we start counting zero) 
            3: { 
                // disable it by setting the property sorter to false 
                sorter: false 
            }, 
        } 
    }); 
});
   </script>
{% endblock extra_head %}

{% block content %}
<h2>{{ product.full_name }}</h2>
<b>Job number:</b> {{ product.title.job_number }}
<h4><a href="{{ product.title.client.get_absolute_url }}">{{ product.title.client }}</a></h4>
<p><b>Type:</b> {{ product.product_type }}</p>
<p><b>Cat number:</b> {{ product.cat_number }}</p>
<p><b>Due Date:</b> {{ product.due_date }}</p>
<p><b>Status:</b> {{ product.status }}</p>
<p><a href="{% url "product-edit" product_id=product.id %}">edit</a></p>

<h4>ASSETS</h4>

{% if product.asset_set.all %}
    <table class="table table-striped table-condensed tablesorter" id="sortTable">
    <thead>
    <tr>
    	<th>Name</th>
    	<th>Type</th>
    	<th>Status</th>
    	<th></th>
    </tr>
	</thead>
	<tbody>
    {% for asset in product.asset_set.all %}
    <tr>
        <td><a href="{% url "asset-detail" product_id=product.id asset_id=asset.id %}">{{ asset.name }}</a></td>
        <td>{{ asset.asset_type }}</td>
        <td>{{ asset.status }}</td>
        <td><a href="{% url "asset-edit" product_id=product.id asset_id=asset.id %}">edit</a></td>
    </tr>
	{% endfor %}
	</tbody>
{% else %}
    <p>No assets created.</p>
{% endif %}
<a href="{% url "asset-new" product_id=product.id %}">Create new assets</a>

{% endblock %}